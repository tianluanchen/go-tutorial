import{_ as i}from"./plugin-vue_export-helper-c27b6911.js";import{r as p,o as u,c as l,a as s,b as n,d as a,w as o,e as c}from"./app-9da01d16.js";const d={},k=c(`<h1 id="_4-8-时间和日期" tabindex="-1"><a class="header-anchor" href="#_4-8-时间和日期" aria-hidden="true">#</a> 4.8 时间和日期</h1><p><code>time</code> 包为我们提供了一个数据类型 <code>time.Time</code>（作为值使用）以及显示和测量时间和日期的功能函数。</p><p>当前时间可以使用 <code>time.Now()</code> 获取，或者使用 <code>t.Day()</code>、<code>t.Minute()</code> 等等来获取时间的一部分；你甚至可以自定义时间格式化字符串，例如： <code>fmt.Printf(&quot;%02d.%02d.%4d\\n&quot;, t.Day(), t.Month(), t.Year())</code> 将会输出 <code>21.07.2011</code>。</p><p><code>Duration</code> 类型表示两个连续时刻所相差的纳秒数，类型为 <code>int64</code>。<code>Location</code> 类型映射某个时区的时间，UTC 表示通用协调世界时间。</p><p>包中的一个预定义函数 <code>func (t Time) Format(layout string) string</code> 可以根据一个格式化字符串来将一个时间 <code>t</code> 转换为相应格式的字符串，你可以使用一些预定义的格式，如：<code>time.ANSIC</code> 或 <code>time.RFC822</code>。</p><p>一般的格式化设计是通过对于一个标准时间的格式化描述来展现的，这听起来很奇怪（<code>02 Jan 2006 15:04</code> 是 Go 语言的诞生时间且自定义格式化时必须以此时间为基准），但看下面这个例子你就会一目了然：</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code>fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">Format</span><span class="token punctuation">(</span><span class="token string">&quot;02 Jan 2006 15:04&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>输出：</p><pre><code>21 Jul 2011 10:31
</code></pre>`,9),r={href:"http://golang.org/pkg/time/",target:"_blank",rel:"noopener noreferrer"},m={href:"http://docs.studygolang.com/pkg/time/",target:"_blank",rel:"noopener noreferrer"},v=c(`<p>示例 4.20 <a href="examples/chapter_4/time.go">time.go</a></p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code><span class="token keyword">package</span> main
<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;fmt&quot;</span>
	<span class="token string">&quot;time&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">var</span> week time<span class="token punctuation">.</span>Duration
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	t <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token comment">// e.g. Wed Dec 21 09:52:14 +0100 RST 2011</span>
	fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;%02d.%02d.%4d\\n&quot;</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span><span class="token function">Day</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span><span class="token function">Month</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> t<span class="token punctuation">.</span><span class="token function">Year</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token comment">// 21.12.2011</span>
	t <span class="token operator">=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">UTC</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span> <span class="token comment">// Wed Dec 21 08:52:14 +0000 UTC 2011</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Wed Dec 21 09:52:14 +0100 RST 2011</span>
	<span class="token comment">// calculating times:</span>
	week <span class="token operator">=</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">7</span> <span class="token operator">*</span> <span class="token number">1e9</span> <span class="token comment">// must be in nanosec</span>
	week_from_now <span class="token operator">:=</span> t<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span><span class="token function">Duration</span><span class="token punctuation">(</span>week<span class="token punctuation">)</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>week_from_now<span class="token punctuation">)</span> <span class="token comment">// Wed Dec 28 08:52:14 +0000 UTC 2011</span>
	<span class="token comment">// formatting times:</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">Format</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>RFC822<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 21 Dec 11 0852 UTC</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">Format</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>ANSIC<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// Wed Dec 21 08:56:34 2011</span>
	<span class="token comment">// The time must be 2006-01-02 15:04:05</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">Format</span><span class="token punctuation">(</span><span class="token string">&quot;02 Jan 2006 15:04&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 21 Dec 2011 08:52</span>
	s <span class="token operator">:=</span> t<span class="token punctuation">.</span><span class="token function">Format</span><span class="token punctuation">(</span><span class="token string">&quot;20060102&quot;</span><span class="token punctuation">)</span>
	fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> <span class="token string">&quot;=&gt;&quot;</span><span class="token punctuation">,</span> s<span class="token punctuation">)</span>
	<span class="token comment">// Wed Dec 21 08:52:14 +0000 UTC 2011 =&gt; 20111221</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>输出的结果已经写在每行 <code>//</code> 的后面。</p>`,3),f=s("code",null,"time.After()",-1),_=s("code",null,"time.Ticker",-1),g=s("code",null,"time.Sleep(d Duration)",-1),b=s("code",null,"d",-1),h=s("h2",{id:"链接",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#链接","aria-hidden":"true"},"#"),n(" 链接")],-1);function w(q,D){const e=p("ExternalLinkIcon"),t=p("RouterLink");return u(),l("div",null,[k,s("p",null,[n("其它有关时间操作的文档请参阅 "),s("a",r,[n("官方文档"),a(e)]),n("（ "),s("strong",null,[n("译者注：国内用户可访问 "),s("a",m,[n("该页面"),a(e)])]),n(" ）。")]),v,s("p",null,[n("如果你需要在应用程序在经过一定时间或周期执行某项任务（事件处理的特例），则可以使用 "),f,n(" 或者 "),_,n("：我们将会在 "),a(t,{to:"/the-way-to-go/14.5.html"},{default:o(()=>[n("第 14.5 节")]),_:1}),n(" 讨论这些有趣的事情。 另外，"),g,n(" 可以实现对某个进程（实质上是 goroutine）时长为 "),b,n(" 的暂停。")]),h,s("ul",null,[s("li",null,[a(t,{to:"/the-way-to-go/directory.html"},{default:o(()=>[n("目录")]),_:1})]),s("li",null,[n("上一节："),a(t,{to:"/the-way-to-go/04.7.html"},{default:o(()=>[n("strings 和 strconv 包")]),_:1})]),s("li",null,[n("下一节："),a(t,{to:"/the-way-to-go/04.9.html"},{default:o(()=>[n("指针")]),_:1})])])])}const x=i(d,[["render",w],["__file","04.8.html.vue"]]);export{x as default};
