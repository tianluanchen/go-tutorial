import{_ as o}from"./plugin-vue_export-helper-c27b6911.js";import{r as c,o as p,c as l,a,d as t,w as e,b as n,e as i}from"./app-9da01d16.js";const u={},r=i(`<h1 id="_6-11-计算函数执行时间" tabindex="-1"><a class="header-anchor" href="#_6-11-计算函数执行时间" aria-hidden="true">#</a> 6.11 计算函数执行时间</h1><p>有时候，能够知道一个计算执行消耗的时间是非常有意义的，尤其是在对比和基准测试中。最简单的一个办法就是在计算开始之前设置一个起始时间，再记录计算结束时的结束时间，最后计算它们的差值，就是这个计算所消耗的时间。想要实现这样的做法，可以使用 <code>time</code> 包中的 <code>Now()</code> 和 <code>Sub()</code> 函数：</p><div class="language-go line-numbers-mode" data-ext="go"><pre class="language-go"><code>start <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">longCalculation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
end <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
delta <span class="token operator">:=</span> end<span class="token punctuation">.</span><span class="token function">Sub</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span>
fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">&quot;longCalculation took this amount of time: %s\\n&quot;</span><span class="token punctuation">,</span> delta<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>您可以查看示例 6.20 <a href="examples/chapter_6/fibonacci.go">fibonacci.go</a> 作为实例学习。</p><p>如果您对一段代码进行了所谓的优化，请务必对它们之间的效率进行对比再做出最后的判断。在接下来的章节中，我们会学习如何进行有价值的优化操作。</p><h2 id="链接" tabindex="-1"><a class="header-anchor" href="#链接" aria-hidden="true">#</a> 链接</h2>`,6);function d(k,m){const s=c("RouterLink");return p(),l("div",null,[r,a("ul",null,[a("li",null,[t(s,{to:"/the-way-to-go/directory.html"},{default:e(()=>[n("目录")]),_:1})]),a("li",null,[n("上一节："),t(s,{to:"/the-way-to-go/06.10.html"},{default:e(()=>[n("使用闭包调试")]),_:1})]),a("li",null,[n("下一节："),t(s,{to:"/the-way-to-go/06.12.html"},{default:e(()=>[n("通过内存缓存来提升性能")]),_:1})])])])}const _=o(u,[["render",d],["__file","06.11.html.vue"]]);export{_ as default};
